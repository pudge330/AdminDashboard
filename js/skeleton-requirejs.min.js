define([],function(){var o={modules:{},load:function(){var e=this;for(var t in e.modules)e.loadModule(t);this.__loaded=!0;for(var n=0;n<e.__onloadCallbacks.length;n++)e.__onloadCallbacks[n]()},loadModule:function(e){var t=this;t.modules.hasOwnProperty(e)&&t.modules[e].initWidgets&&t.modules[e].initWidgets()},__loaded:!1,__onloadCallbacks:[],onLoad:function(e){this.__loaded?e():this.__onloadCallbacks.push(e)}};return o.modules.Base=bglib.EventModule.extend({$el:void 0,constructor:function(){if(arguments[0]){var e=arguments[0]||{};bglib.DT.isObject(e)||(e={el:e}),this.$el=e.el,bglib.EventModule.apply(this,[e])}},initialized:function(){return"loaded"==this.$el.getAttribute("data-state")},setState:function(e){this.$el.setAttribute("data-state",e)},getState:function(e){return this.$el.getAttribute("data-state")}},{load:function(){}}),o.modules.Navigation=o.modules.Base.extend({topSelector:void 0,instanceId:void 0,init:function(e){if(this.$el&&!this.initialized()){var i=this;this.topSelector=o.modules.Navigation.widgetSelector,this.instanceId=Math.floor(1e8*Math.random()+1),this.topSelector=this.topSelector+"-"+this.instanceId,this.$el.className+=" "+this.topSelector.replace(/^\./,""),(this.$el.SkeletonWidget_Navigation=this).setState("loaded");for(var t=document.querySelectorAll(this.topSelector+" > .navLinks > .navLink > .navLinkAction"),n=0;n<t.length;n++)t[n].addEventListener("click",function(e){var t=e.target,n=bglib.El.hasClass(t,"subMenuToggle")?t:t.closest(".subMenuToggle");-1===(" "+t.className+" ").indexOf(" navLinkAction ")&&(t=t.closest(".navLinkAction")),n||i.handleLink(t.closest(".navLink"),e)});for(t=document.querySelectorAll(this.topSelector+" > .navLinks > .navLink > .navLinkAction .subMenuToggle"),n=0;n<t.length;n++)t[n].addEventListener("click",function(e){var t=e.target;return bglib.El.hasClass(t,"subMenuToggle")||(t=t.closest(".subMenuToggle")),i.toggleSubMenu(t.closest(".navLinkSubAction")),e.preventDefault(),!1}),t[n].addEventListener("keydown",function(e){var t=e.target;if(-1===(" "+t.className+" ").indexOf(" subMenuToggle ")&&(t=t.closest(".subMenuToggle")),13==e.keyCode)return i.toggleSubMenu(t.closest(".navLinkSubAction")),e.preventDefault(),!1}),t[n].addEventListener("focusin",function(e){var t=e.target;-1===(" "+t.className+" ").indexOf(" subMenuToggle ")&&(t=t.closest(".subMenuToggle")),bglib.El.addClass(t.closest(".navLinkAction"),"focus")}),t[n].addEventListener("focusout",function(e){var t=e.target;-1===(" "+t.className+" ").indexOf(" subMenuToggle ")&&(t=t.closest(".subMenuToggle")),bglib.El.removeClass(t.closest(".navLinkAction"),"focus")});for(t=document.querySelectorAll(this.topSelector+" > .navLinks > .navLink > .navLinkAction"),n=0;n<t.length;n++)t[n].addEventListener("keydown",function(e){var t=e.target;-1===(" "+t.className+" ").indexOf(" navLinkAction ")&&(t=t.closest(".navLinkAction")),13==e.keyCode&&i.handleLink(t.closest(".navLink"),e)});this.updateMaxHeights(),window.addEventListener("resize",bglib.fn.debounce(function(){i.updateMaxHeights()}),250)}},updateMaxHeights:function(){for(var e=document.querySelectorAll(this.topSelector+" > .navLinks > .navLinkSubAction > .navLinkSpecial"),t=0;t<e.length;t++)e[t].style.height=e[t].querySelector(".navMenu").offsetHeight+"px"},toggleSubMenu:function(e){var t=e.querySelector(".navLinkAction"),n=e.querySelector(".navLinkSpecial > .navMenu").offsetHeight;"closed"==e.getAttribute("data-sub-state")?(e.querySelector(".navLinkSpecial").style.height=n+"px",e.setAttribute("data-sub-state","opened")):(e.querySelector(".navLinkSpecial").style.height=n+"px",e.setAttribute("data-sub-state","closed")),t.blur(),t.querySelector(".subMenuToggle").blur()},handleLink:function(e,t){var n=e.querySelector(".navLinkAction");n.getAttribute("data-href")?(window.innerWidth<600&&document.querySelector(".pageSkeleton").SkeletonWidget_Skeleton.closePageMenu(),t.ctrlKey||t.metaKey||"_blank"==n.getAttribute("data-target")?(window.open(n.getAttribute("data-href"),"_blank"),t.preventDefault()):location=n.getAttribute("data-href")):-1!==(" "+e.className+" ").indexOf(" navLinkSubAction ")&&this.toggleSubMenu(e)}},{widgetSelector:".navMenu-pageNav",initWidgets:function(){for(var e=document.querySelectorAll(o.modules.Navigation.widgetSelector),t=0;t<e.length;t++)o.modules.Navigation.initWidget(e[t])},initWidget:function(e){return new o.modules.Navigation({el:e})}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null}),o.modules.Skeleton=o.modules.Base.extend({events:void 0,nvpWidth:608,$pageMenuAction:void 0,$memberMenuAction:void 0,$appMenuAction:void 0,$sideMenuAction:void 0,$pageMenuWrap:void 0,$memberMenuWrap:void 0,$appMenuWrap:void 0,$sideMenuWrap:void 0,$pageContentWrap:void 0,init:function(e){var n=this;this.$el&&!this.initialized()&&((this.$el.SkeletonWidget_Skeleton=this).setState("loaded"),this.events={pageMenuClick:[],pageMenuOpen:[],pageMenuClose:[],pageMenuToggle:[],memberMenuClick:[],memberMenuOpen:[],memberMenuClose:[],memberMenuToggle:[],appMenuClick:[],appMenuOpen:[],appMenuClose:[],appMenuToggle:[],sideMenuClick:[],sideMenuOpen:[],sideMenuClose:[],sideMenuToggle:[]},this.$pageMenuAction=this.$el.querySelector(".page-header .header-nav-action"),this.$memberMenuAction=this.$el.querySelector(".page-header .header-member-toggle"),this.$appMenuAction=this.$el.querySelector(".page-header .header-app-menu-action"),this.$sideMenuAction=this.$el.querySelector(".page-header .header-side-menu-action"),this.$pageMenuWrap=this.$el.querySelector(".page-menu"),this.$memberMenuWrap=this.$el.querySelector(".page-header-menu"),this.$appMenuWrap=this.$el.querySelector(".page-app-menu"),this.$sideMenuWrap=this.$el.querySelector(".page-side-menu"),this.$pageContentWrap=this.$el.querySelector(".page-content-wrap"),this.$pageMenuAction.addEventListener("click",function(){n.trigger("pageMenuClick"),n.handlePageMenuClick()}),this.$memberMenuAction.addEventListener("click",function(){n.trigger("memberMenuClick"),n.handleMemberMenuClick()}),this.$memberMenuAction.addEventListener("keydown",function(e){9===e.keyCode&&0==e.shiftKey&&"opened"==n.$el.getAttribute("data-member-menu-state")&&setTimeout(function(){n.$memberMenuWrap.querySelector(".navLink.nl-2 .navLinkAction").focus()},1)}),this.$memberMenuWrap.querySelector(".navLink.nl-2 .navLinkAction").addEventListener("keydown",function(e){9===e.keyCode&&!0===e.shiftKey&&setTimeout(function(){n.$memberMenuAction.focus()},1)}),this.$sideMenuAction.addEventListener("click",function(){n.trigger("sideMenuClick"),n.handleSideMenuClick()}),this.$appMenuAction.addEventListener("click",function(){n.trigger("appMenuClick"),n.handleAppMenuClick()}),this.$el.querySelector(".menu-toggle.main-menu-toggle").addEventListener("click",function(){n.handlePageMenuClick()}),this.$el.querySelector(".menu-toggle.side-menu-toggle").addEventListener("click",function(){n.handleSideMenuClick()}),window.addEventListener("resize",function(e){window.innerWidth<n.nvpWidth&&"opened"==n.$el.getAttribute("data-menu-state")&&"opened"==n.$el.getAttribute("data-side-menu-state")&&n.closeSideMenu(),n.adjustBrandingMaxWidth()}),n.adjustBrandingMaxWidth(),window.addEventListener("click",function(e){var t=e.target;"opened"==n.$el.getAttribute("data-member-menu-state")&&(t.closest(".page-header-menu")||t.closest(".header-member-toggle")||n.closeMemberMenu()),"opened"==n.$el.getAttribute("data-app-menu-state")&&(t.closest(".page-app-menu")||t.closest(".header-app-menu-action")||n.closeAppMenu())}))},adjustBrandingMaxWidth:function(){for(var e=0,t=[".header-nav-action",".header-app-menu-toggle",".header-member-menu",".header-side-menu-toggle",".app-menu-spacer",".header-menu-spacer"],n=0;n<t.length;n++){var i=document.querySelector(t[n]);i&&(e+=i.offsetWidth,e+=parseInt(getComputedStyle(i)["margin-right"],10))}this.$el.querySelector(".page-header .header-branding h2").style["max-width"]="calc(100vw - "+e+"px)"},handlePageMenuClick:function(){var e=this;"closed"==e.$el.getAttribute("data-menu-state")?("opened"==e.$el.getAttribute("data-side-menu-state")&&window.innerWidth<e.nvpWidth&&e.closeSideMenu(),e.openPageMenu()):e.closePageMenu()},handleMemberMenuClick:function(){"closed"==this.$el.getAttribute("data-member-menu-state")?this.openMemberMenu():this.closeMemberMenu()},handleAppMenuClick:function(){"closed"==this.$el.getAttribute("data-app-menu-state")?this.openAppMenu():this.closeAppMenu()},handleSideMenuClick:function(){var e=this;"closed"==e.$el.getAttribute("data-side-menu-state")?("opened"==e.$el.getAttribute("data-menu-state")&&window.innerWidth<e.nvpWidth&&e.closePageMenu(),e.openSideMenu()):e.closeSideMenu()},openPageMenu:function(){var e=this;e.$el.setAttribute("data-menu-state","opened"),e.$pageMenuAction.querySelector(".nav-label").innerHTML="Close Page Navigation",e.$pageMenuWrap.querySelector(".inner-wrap").scrollTop=0,e.trigger("pageMenuOpen"),e.trigger("pageMenuToggle",{type:"open"})},closePageMenu:function(){this.$el.setAttribute("data-menu-state","closed"),this.$pageMenuAction.querySelector(".nav-label").innerHTML="Open Page Navigation",this.trigger("pageMenuCLose"),this.trigger("pageMenuToggle",{type:"close"})},openMemberMenu:function(){var e=this;e.$el.setAttribute("data-member-menu-state","opened"),e.$memberMenuAction.querySelector(".member-menu-sro").innerHTML="Close Member Menu",e.$memberMenuWrap.querySelector(".inner-wrap").scrollTop=0,e.$memberMenuWrap.querySelector(".inner-wrap").focus(),e.trigger("memberMenuOpen"),e.trigger("memberMenuToggle",{type:"open"})},closeMemberMenu:function(){this.$el.setAttribute("data-member-menu-state","closed"),this.$memberMenuAction.querySelector(".member-menu-sro").innerHTML="Open Member Menu",this.trigger("memberMenuClose"),this.trigger("memberMenuToggle",{type:"close"})},openAppMenu:function(){var e=this;e.$el.setAttribute("data-app-menu-state","opened"),e.$appMenuAction.querySelector(".nav-label").innerHTML="Close App Menu",e.$appMenuWrap.querySelector(".inner-wrap").scrollTop=0,e.trigger("appMenuOpen"),e.trigger("appMenuToggle",{type:"open"})},closeAppMenu:function(){this.$el.setAttribute("data-app-menu-state","closed"),this.$appMenuAction.querySelector(".nav-label").innerHTML="Open App Menu",this.trigger("appMenuClose"),this.trigger("appMenuToggle",{type:"close"})},openSideMenu:function(){var e=this;e.$el.setAttribute("data-side-menu-state","opened"),e.$sideMenuAction.querySelector(".nav-label").innerHTML="Close Side Menu",e.$sideMenuAction.querySelector(".nav-icon svg g").setAttribute("transform","rotate(180, 18, 32)"),e.$sideMenuWrap.querySelector(".inner-wrap").scrollTop=0,e.trigger("sideMenuOpen"),e.trigger("sideMenuToggle",{type:"open"})},closeSideMenu:function(){var e=this;e.$el.setAttribute("data-side-menu-state","closed"),e.$sideMenuAction.querySelector(".nav-label").innerHTML="Open Side Menu",e.$sideMenuAction.querySelector(".nav-icon svg g").setAttribute("transform",""),e.trigger("sideMenuClose"),e.trigger("sideMenuToggle",{type:"close"})}},{widgetSelector:".page-skeleton",initWidgets:function(){for(var e=document.querySelectorAll(o.modules.Skeleton.widgetSelector),t=0;t<e.length;t++)o.modules.Skeleton.initWidget(e[t])},initWidget:function(e){return new o.modules.Skeleton({el:e})}}),o});